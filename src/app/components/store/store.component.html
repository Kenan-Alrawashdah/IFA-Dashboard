<div class="row justify-content-end" style="margin-bottom: 15px;">
  <button nbButton status="success" (click)="openAdd()">Add new garment</button>
</div>

<nb-card>
  <nb-card-body>
    <nb-tabset (changeTab)="onEvenTo($event)" #dd>
      <nb-tab
        *ngFor="let item of testTab; let i = index"
        [tabTitle]="item.name"
        [badgePosition]="item.id"
        [active]="i == 0 "
      >
        <div class="flex-container">
          <nb-card *ngFor="let item2 of item.garments" class="column-4" status="success">
            <nb-card-body class="no-padding"  style="text-align: center;" >
              <img src="{{imageHost}}{{item2.images[0]}}"class="img-size" />
            </nb-card-body>
            <nb-card-footer
              ><span style="font-weight: bold">{{item2.name}}</span> <br /><span
                style="color: gray"
                >{{item2.price|currency}}</span
              >
              <nb-actions
                size="tiny"
                style="display: inline-flex; margin-left: 100px"
              >
                <nb-action icon="edit" (click)="openEdit(item2)"></nb-action>
                <!-- (click)="open(delete)" -->
                <nb-action icon="trash" ></nb-action>
              </nb-actions>
            </nb-card-footer>
          </nb-card>
        </div>
      </nb-tab>
    </nb-tabset>
  </nb-card-body>
</nb-card>
<ng-template #delete let-data let-ref="dialogRef">
  <nb-card>
    <nb-card-header>Are you sure to delete this item?</nb-card-header>
    <nb-card-body>{{ data }}</nb-card-body>
    <nb-card-footer>
      <button nbButton status="danger" (click)="ref.close()">Delete</button>
    </nb-card-footer>
  </nb-card>
</ng-template>
<ng-template #edit let-data let-ref="dialogRef">
  <nb-card>
    <nb-card-header>Edit Item</nb-card-header>
    <nb-card-body>
      <form>
        <div class="row">
          <div class="col-lg-6">
            <div class="mb-4">
              <label class="form-label" for="f1">F1</label>
              <input type="text" required="" class="form-control" />
            </div>
          </div>
          <div class="col-lg-6">
            <div class="mb-4">
              <label class="form-label" for="f2">f2</label>
              <input type="text" class="form-control" />
            </div>
          </div>
        </div>

        <hr />
        <button nbButton status="success" (click)="ref.close()">Edit</button>
      </form>
    </nb-card-body>
  </nb-card>
</ng-template>
